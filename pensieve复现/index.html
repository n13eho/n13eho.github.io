<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>Pensieveå¤ç° - n13eho's blog</title><meta name=Description content="å…³äº LoveIt ä¸»é¢˜"><meta property="og:title" content="Pensieveå¤ç°">
<meta property="og:description" content="SIGCOMM'17 Pensieve å®éªŒï¼Œè®°çš„æœ‰ç‚¹æµæ°´è´¦ï¼Œä½†æ˜¯æ—¶é—´é¡ºåºï¼Œå°±å…ˆä¸é‡æ–°æ•´ç†äº†">
<meta property="og:type" content="article">
<meta property="og:url" content="https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/"><meta property="og:image" content="https://neho.ink/classic-hh.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2023-02-10T09:27:34+08:00">
<meta property="article:modified_time" content="2023-02-10T09:27:34+08:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://neho.ink/classic-hh.png">
<meta name=twitter:title content="Pensieveå¤ç°">
<meta name=twitter:description content="SIGCOMM'17 Pensieve å®éªŒï¼Œè®°çš„æœ‰ç‚¹æµæ°´è´¦ï¼Œä½†æ˜¯æ—¶é—´é¡ºåºï¼Œå°±å…ˆä¸é‡æ–°æ•´ç†äº†">
<meta name=application-name content="LoveIt">
<meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/><link rel=prev href=https://neho.ink/runsigcomm21-5g/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Pensieveå¤ç°","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/neho.ink\/pensieve%E5%A4%8D%E7%8E%B0\/"},"image":["https:\/\/neho.ink\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"é…ç¯å¢ƒ, è®ºæ–‡å¤ç°","wordcount":5127,"url":"https:\/\/neho.ink\/pensieve%E5%A4%8D%E7%8E%B0\/","datePublished":"2023-02-10T09:27:34+08:00","dateModified":"2023-02-10T09:27:34+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"xxxx","logo":"https:\/\/neho.ink\/images\/avatar.png"},"author":{"@type":"Person","name":"n13eho"},"description":""}</script></head>
<body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="n13eho's blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=https://img.icons8.com/material-outlined/100/000000/cool.png data-srcset="https://img.icons8.com/material-outlined/100/000000/cool.png, https://img.icons8.com/material-outlined/100/000000/cool.png 1.5x, https://img.icons8.com/material-outlined/100/000000/cool.png 2x" data-sizes=auto alt=https://img.icons8.com/material-outlined/100/000000/cool.png title=https://img.icons8.com/material-outlined/100/000000/cool.png>n13eho's blog</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/categories/> åˆ†ç±» </a><a class=menu-item href=/tags/> æ ‡ç­¾ </a><a class=menu-item href=/posts/> æ‰€æœ‰æ–‡ç«  </a><a class=menu-item href=/about/> å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="n13eho's blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=https://img.icons8.com/material-outlined/100/000000/cool.png data-srcset="https://img.icons8.com/material-outlined/100/000000/cool.png, https://img.icons8.com/material-outlined/100/000000/cool.png 1.5x, https://img.icons8.com/material-outlined/100/000000/cool.png 2x" data-sizes=auto alt=https://img.icons8.com/material-outlined/100/000000/cool.png title=https://img.icons8.com/material-outlined/100/000000/cool.png>n13eho's blog</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
å–æ¶ˆ
</a>
</div><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/posts/ title>æ‰€æœ‰æ–‡ç« </a><a class=menu-item href=/about/ title>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>ç›®å½•</h2>
<div class="toc-content always-active" id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">Pensieveå¤ç°</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=neho.ink title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i>n13eho</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=/categories/abrsim/><i class="far fa-folder fa-fw"></i>ABRsim</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2023-02-10>2023-02-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 5127 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 11 åˆ†é’Ÿ&nbsp;<span id=/pensieve%E5%A4%8D%E7%8E%B0/ class=leancloud_visitors data-flag-title=Pensieveå¤ç°>
<i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;æ¬¡é˜…è¯»
</span>&nbsp;</div>
</div><div class="details toc" id=toc-static kept>
<div class="details-summary toc-title">
<span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#1-é…ç¯å¢ƒ>1 é…ç¯å¢ƒ</a>
<ul>
<li><a href=#11-ubuntu1604è™šæ‹Ÿæœºå®‰è£…>1.1 ubuntu16.04è™šæ‹Ÿæœºå®‰è£…</a></li>
<li><a href=#12-tensorflow-v110>1.2 Tensorflow v1.1.0</a></li>
<li><a href=#13-chrome-and-its-driver>1.3 chrome and its driver</a></li>
<li><a href=#14-setuppy>1.4 setup.py</a></li>
</ul>
</li>
<li><a href=#2-cooked_trace-å‡†å¤‡æ•°æ®é›†>2 cooked_trace å‡†å¤‡æ•°æ®é›†</a></li>
<li><a href=#3-run_expè„šæœ¬è°ƒç”¨é“¾>3 run_expè„šæœ¬è°ƒç”¨é“¾</a>
<ul>
<li><a href=#31-run_all_tracespy>3.1 run_all_traces.py</a></li>
<li><a href=#32-run_tracespy>3.2 run_traces.py</a></li>
<li><a href=#33-run_videopy>3.3 run_video.py</a></li>
<li><a href=#34-simple_serverpy>3.4 simple_server.py</a></li>
</ul>
</li>
<li><a href=#4-run_expè·‘ä¸å‡ºæ¥é‡åˆ°çš„é—®é¢˜>4 run_expè·‘ä¸å‡ºæ¥ï¼Œé‡åˆ°çš„é—®é¢˜</a>
<ul>
<li><a href=#41-xvfb>4.1 xvfb</a></li>
<li><a href=#42-mahimahiå†…éƒ¨æ˜¯å¦å¯é€šé€šäº†å°±æœ‰ç”¨äº†å—è¿™è¾¹é€šäº†ä¹Ÿæ²¡ç”¨>4.2 mahimahiå†…éƒ¨æ˜¯å¦å¯é€šï¼ˆï¼Ÿé€šäº†å°±æœ‰ç”¨äº†å—ï¼Œè¿™è¾¹é€šäº†ä¹Ÿæ²¡ç”¨</a></li>
<li><a href=#43-mahimahiä¸‹localhostæ‹’ç»è®¿é—®è®¿é—®ç™¾åº¦éƒ½ä¸è¡Œ>4.3 mahimahiä¸‹localhostæ‹’ç»è®¿é—®ï¼Œè®¿é—®ç™¾åº¦éƒ½ä¸è¡ŒğŸ¤¯</a></li>
<li><a href=#44-è§†é¢‘ä¸è‡ªåŠ¨æ’­æ”¾>4.4 è§†é¢‘ä¸è‡ªåŠ¨æ’­æ”¾</a></li>
<li><a href=#45-mahimahiä¸‹çš„err_connection_refused>4.5 mahimahiä¸‹çš„ERR_CONNECTION_REFUSED</a></li>
</ul>
</li>
<li><a href=#5-è¿è¡Œ>5 è¿è¡Œ</a></li>
<li><a href=#6-ç»“æœ>6 ç»“æœ</a></li>
</ul>
</nav></div>
</div><div class=content id=content><p>ä»“åº“åœ°å€ï¼š<a href=https://github.com/hongzimao/pensieve target=_blank rel="noopener noreffer">GitHub - hongzimao/pensieve: Neural Adaptive Video Streaming with Pensieve (SIGCOMM '17)</a></p>
<h2 id=1-é…ç¯å¢ƒ>1 é…ç¯å¢ƒ</h2>
<p>Pensieveå®éªŒæ—¶é—´æ˜¯åœ¨2017å¹´ï¼ŒåŸç¯å¢ƒæ˜¯Ubuntu 16.04, Tensorflow v1.1.0, TFLearn v0.3.1 and Selenium v2.39.0ï¼Œå› æ­¤ç°åœ¨ï¼ˆ2023ï¼‰å‡è¾¾åˆ°è¿™äº›è¦æ±‚éœ€è¦å’ŒpythonåŠå…¶ä»–åŒ…çš„ç‰ˆæœ¬åšå¥½ä¸€ç•ªé€‚é…è°ƒæ•´</p>
<h3 id=11-ubuntu1604è™šæ‹Ÿæœºå®‰è£…>1.1 ubuntu16.04è™šæ‹Ÿæœºå®‰è£…</h3>
<p>è½»è½¦ç†Ÿè·¯ï¼Œä¸èµ˜è¿°</p>
<h3 id=12-tensorflow-v110>1.2 Tensorflow v1.1.0</h3>
<p>å½“æˆ‘å‘ç°ä¸ç”¨æ¢æˆæ¸…åæºä¹Ÿèƒ½è£…ï¼Œæˆ‘å°±æ²¡ç”¨æ¸…åçš„pipæºäº†</p>
<p>é¦–å…ˆå®‰è£…py2.7çš„pipå’Œä¾èµ–</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>sudo apt-get install python-pip python-dev
</code></pre></td></tr></table>
</div>
</div><p>ç„¶åç›´æ¥å®‰è£…tf</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>sudo pip install <span class=nv>tensorflow</span><span class=o>==</span>1.1.0
</code></pre></td></tr></table>
</div>
</div><p>äºæ˜¯ä¼šé‡åˆ°ä¸€ä¸ªpyç‰ˆæœ¬çš„é—®é¢˜å¦‚ä¸‹ï¼š</p>
<img title src=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302101033952.png alt data-align=center width=589>
<p>ä»è¿æ¥çœ‹è¿™è¾¹ä¸‹è½½çš„æ˜¯numpyçš„1.24.2ç‰ˆæœ¬ï¼Œä½†æ˜¯å¾ˆå¤šåŒ…å¯èƒ½ä»æŸä¸ªæ—¶å€™å¼€å§‹å°±ä¸å†æ”¯æŒpython2äº†ï¼ˆæ¯”å¦‚<a href=https://blog.51cto.com/maxiaobian/3007385 target=_blank rel="noopener noreffer">è¿™ç¯‡æ–‡ç« </a>ï¼‰ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨é™çº§ï¼Œä»<a href=https://numpy.org/doc/1.20/release target=_blank rel="noopener noreffer">å®˜ç½‘</a>ä¸Šé¢æ‰¾ä¸€ä¸ªåˆé€‚çš„ç‰ˆæœ¬æå‰è£…ä¸Š</p>
<img title src=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302101104754.png alt width=556 data-align=center>
<p>1.16.3æ˜¯æ”¯æŒ2.7çš„æœ€åä¸€ä»£ï¼Œé‚£ä¹ˆå°±å®‰è£…1.16.3</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>pip install <span class=nv>numpy</span><span class=o>==</span>1.16.3
</code></pre></td></tr></table>
</div>
</div><p>é—®é¢˜è§£å†³ã€‚ä½†è¿˜æœ‰åˆ«çš„åŒ…å¦‚mockã€MarkupSafeç­‰ç­‰ï¼Œè§£å†³æ–¹æ³•éƒ½ä¸€æ ·ï¼Œåœ¨<a href=https://pypi.org/ target=_blank rel="noopener noreffer">pypiç½‘ç«™ä¸Š</a>å®‰è£…ä»¥å‰æ”¯æŒpy2.7çš„ç‰ˆæœ¬å³å¯ã€‚æœŸé—´ä¼šç¢°åˆ°é€’å½’>=çš„éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æ‰¾åˆ°æºå¤´ï¼Œéƒ½å®‰è£…æˆæœ€ä½ç‰ˆæœ¬çš„å°±è¡Œäº†</p>
<h3 id=13-chrome-and-its-driver>1.3 chrome and its driver</h3>
<p>chrome: <a href=https://www.slimjet.com/chrome/google-chrome-old-version.php target=_blank rel="noopener noreffer">Download older versions of Google Chrome for Windows, Linux and Mac</a></p>
<p>chrome driver: <a href=https://chromedriver.chromium.org/downloads target=_blank rel="noopener noreffer">ChromeDriver - WebDriver for Chrome - Downloads</a></p>
<p>æˆ‘è¿™é‡Œé€‰æ‹©çš„chromeç‰ˆæœ¬æ˜¯104.0.5112.102ï¼Œdriveræ˜¯104.0.5112.79ã€‚å®‰è£…å°±ä¸€å¥è¯ï¼š</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>sudo dpkg -i google-chrome-xxx
</code></pre></td></tr></table>
</div>
</div><h3 id=14-setuppy>1.4 setup.py</h3>
<p>æˆ‘æ‰‹åŠ¨æ‰§è¡Œäº†è¿™é‡Œé¢çš„åŒ…çš„å®‰è£…ï¼Œé¿å…é‡å¤ä¸‹è½½installï¼Œå‰©ä¸‹çš„å»ºç«‹æ–‡ä»¶å¤¹çš„éƒ¨åˆ†ä¿ç•™ï¼ŒæŒ‰READMEæ‰§è¡Œå³å¯ã€‚ï¼ˆä¿ç•™äº†è¿™äº›å†…å®¹ï¼š</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>os</span>

<span class=n>start_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getcwd</span><span class=p>()</span>

<span class=c1># mahimahi</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;sudo sysctl -w net.ipv4.ip_forward=1&#34;</span><span class=p>)</span>

<span class=c1># copy the webpage files to /var/www/html</span>
<span class=n>os</span><span class=o>.</span><span class=n>chdir</span><span class=p>(</span> <span class=n>start_dir</span> <span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;sudo cp video_server/myindex_*.html /var/www/html&#34;</span><span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;sudo cp video_server/dash.all.min.js /var/www/html&#34;</span><span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;sudo cp -r video_server/video* /var/www/html&#34;</span><span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;sudo cp video_server/Manifest.mpd /var/www/html&#34;</span><span class=p>)</span>

<span class=c1># make results directory</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;mkdir cooked_traces&#34;</span><span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;mkdir rl_server/results&#34;</span><span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;mkdir run_exp/results&#34;</span><span class=p>)</span>
<span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span><span class=s2>&#34;mkdir real_exp/results&#34;</span><span class=p>)</span>

<span class=c1># need to copy the trace and pre-trained NN model</span>
<span class=nb>print</span> <span class=s2>&#34;Need to put trace files in &#39;pensieve/cooked_traces&#39;.&#34;</span>
<span class=nb>print</span> <span class=s2>&#34;Need to put pre-trained NN model in &#39;pensieve/rl_server/results&#39;.&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id=2-cooked_trace-å‡†å¤‡æ•°æ®é›†>2 cooked_trace å‡†å¤‡æ•°æ®é›†</h2>
<p>ä¸»è¦æ˜¯ä¸‹è½½æ•°æ®é›†å¹¶å°†å…¶è½¬åŒ–ä¸ºmahimahiçš„æ ‡å‡†æ ¼å¼ï¼Œå¦åˆ™ä¼š<code>Died on std::runtime_error: Invalid integer</code>ã€‚mahimahiçš„æ ¼å¼æè¿°å¦‚ä¸‹</p>
<blockquote>
<p>Each line gives a timestamp in milliseconds (from the beginning of the
trace) and represents an opportunity for one 1500-byte packet to be
drained from the bottleneck queue and cross the link. If more than one
MTU-sized packet can be transmitted in a particular millisecond, the
same timestamp is repeated on multiple lines.</p>
</blockquote>
<p>æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªä»traceå¼€å§‹çš„æ—¶é—´æˆ³ï¼Œä»£è¡¨ä¸€ä¸ª1500å­—èŠ‚çš„åŒ…é€šè¿‡é“¾è·¯ä¸­çš„ç“¶é¢ˆé˜Ÿåˆ—çš„<mark>opportunity</mark>ã€‚</p>
<p>å…·ä½“è½¬åŒ–æ–¹æ³•å°±ç›´æ¥ç”¨traces/æ–‡ä»¶å¤¹ä¸‹å„ä¸ªè„šæœ¬è·‘ï¼Œæ›´æ”¹ä»£ç é‡Œé¢çš„è¾“å…¥è¾“å‡ºè·¯å¾„å³å¯ã€‚æˆ‘ç”¨è™šæ‹Ÿæœºè·‘çš„ï¼Œé€Ÿåº¦æ¯”è¾ƒæ…¢</p>
<h2 id=3-run_expè„šæœ¬è°ƒç”¨é“¾>3 run_expè„šæœ¬è°ƒç”¨é“¾</h2>
<h3 id=31-run_all_tracespy>3.1 run_all_traces.py</h3>
<p>READMEé‡Œé¢ä¸€å¥è¯å¯ä»¥è·‘æ‰€æœ‰çš„è„šæœ¬ï¼špython run_all_traces.pyï¼Œè¿™ä¸ªpyæ–‡ä»¶ä¸­å°±åˆ†åˆ«æ˜¯å†™logï¼Œè·å–ä¸€ä¸ªè«åå…¶å¦™çš„ipåœ°å€ï¼Œäº§ç”Ÿå¤šæ¡å‘½ä»¤ï¼Œæœ€åå†åˆ†åˆ«æ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚</p>
<p>å†™å®Œä¸€å¥logä¹‹åï¼Œä¼šç”¨os.system(&lsquo;sudo sysctl -w net.ipv4.ip_forward=1&rsquo;)æ¥å…è®¸æ•°æ®åŒ…è½¬å‘ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘</p>
<blockquote>
<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼ŒLinuxç³»ç»Ÿé»˜è®¤æ˜¯ç¦æ­¢æ•°æ®åŒ…è½¬å‘çš„ã€‚æ‰€è°“è½¬å‘å³å½“ä¸»æœºæ‹¥æœ‰å¤šäºä¸€å—çš„ç½‘å¡æ—¶ï¼Œå…¶ä¸­ä¸€å—æ”¶åˆ°æ•°æ®åŒ…ï¼Œæ ¹æ®æ•°æ®åŒ…çš„ç›®çš„ipåœ°å€å°†æ•°æ®åŒ…å‘å¾€æœ¬æœºå¦ä¸€å—ç½‘å¡ï¼Œè¯¥ç½‘å¡æ ¹æ®è·¯ç”±è¡¨ç»§ç»­å‘é€æ•°æ®åŒ…ã€‚è¿™é€šå¸¸æ˜¯è·¯ç”±å™¨æ‰€è¦å®ç°çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p>æ³¨æ„è¿™å¥è¯æ˜¯ä¸´æ—¶ç”Ÿæ•ˆçš„ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>ç„¶åå°±æ˜¯è¿™å¥è«åå…¶å¦™çš„ipï¼Œæ‰“å°å‡ºæ¥æ˜¯111.199.68.11ï¼Œä¸æ‡‚ã€‚ã€‚ã€‚</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=n>ip_data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>urllib</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span><span class=s2>&#34;http://ip.jsontest.com/&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
<span class=n>ip</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>ip_data</span><span class=p>[</span><span class=s1>&#39;ip&#39;</span><span class=p>])</span>
</code></pre></td></tr></table>
</div>
</div><p>æ¥ç€æ˜¯è°ƒç”¨å¦ä¸€ä¸ªè„šæœ¬ï¼Œå› ä¸ºæœ‰ä¸åŒçš„ABRç®—æ³•ï¼Œæ‰€ä»¥å°±æœ‰å¯¹åº”æ•°é‡çš„æŒ‡ä»¤ï¼š<code>'python run_traces.py ' + TRACE_PATH + ' ' + ABR_ALGO + ' ' + str(PROCESS_ID) + ' ' + ip</code>ï¼Œå¯ä»¥çœ‹åˆ°éƒ½ä¼šä»run_traces.pyèµ°ï¼Œä¾‹å¦‚<code>python run_traces.py ../cooked_traces/ BB 0 111.199.68.11</code></p>
<p><em>è¿™ä¸ªipè·ä½œè€…è¯´æ˜¯ä¸ºäº†è·å–è‡ªå·±çš„public ipï¼Œæ–¹ä¾¿åé¢æœåŠ¡å™¨webçš„è®¿é—®å§ï¼Œä½†æ˜¯æˆ‘åœ¨è™šæ‹Ÿæœºä¸­å°è¯•å¤šç§å’Œè¯¥ipå»ºç«‹è¿æ¥çš„æ–¹æ³•æœªæœï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªipæ²¡æœ‰ä¸€ç‚¹ç”¨</em></p>
<h3 id=32-run_tracespy>3.2 run_traces.py</h3>
<p>è¯¥è„šæœ¬ä»./cooked_tracesä¸­è¯»å–å¤„ç†å¥½çš„mahimahiæ ¼å¼çš„traceï¼Œå¯¹äºæ¯ä¸€ä¸ªtraceï¼Œæ‰§è¡Œå‘½ä»¤</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=n>commend</span> <span class=o>=</span> <span class=s1>&#39;mm-delay &#39;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>MM_DELAY</span><span class=p>)</span> <span class=o>+</span> \
        <span class=s1>&#39; mm-link 12mbps &#39;</span> <span class=o>+</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>trace_path</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> \
        <span class=s1>&#39;/usr/bin/python &#39;</span> <span class=o>+</span> <span class=n>RUN_SCRIPT</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> <span class=n>ip</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> \
         <span class=n>abr_algo</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>RUN_TIME</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> \
         <span class=n>process_id</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> <span class=n>f</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>sleep_time</span><span class=p>)</span>
</code></pre></td></tr></table>
</div>
</div><p>è¿™è¾¹mm-delayæ˜¯ç”¨mahimahiå¯¹ç½‘ç»œç¯å¢ƒè¿›è¡Œæ¨¡æ‹Ÿ/ä»¿çœŸ/æ„é€ ï¼Œç¬¬äºŒå¥åˆ™æ˜¯ç”¨çš„ä¸‹ä¸€ä¸ªè„šæœ¬run_video.pyï¼Œä¹Ÿæ˜¯ä½¿ç”¨åˆ°chromeçš„åœ°æ–¹</p>
<p><code>python run_video.py 111.199.68.11 BB 320 0 test_fcc_trace_1171_http---www.yahoo.com_0 3</code></p>
<h3 id=33-run_videopy>3.3 run_video.py</h3>
<p>é‡ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>ipè¢«ä½œä¸ºç”Ÿæˆçš„urlï¼Œåœ¨ç”¨selniumå¯åŠ¨chromeä¹‹åç›´æ¥è¢«è°ƒç”¨ï¼Œ<code>driver.get(url)</code>ã€‚<mark>æ­¤urlå°±è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå®ƒæ€ä¹ˆèƒ½ä»£è¡¨å¯¹åº”çš„ç½‘é¡µå‘¢ï¼Ÿæ€ä¹ˆworkçš„</mark> <em>é€šè¿‡è‡ªèº«ä½œä¸ºweb serverï¼Œç”¨apacheæä¾›æœåŠ¡ï¼Œåœ¨setup.pyä¸­å·²ç»æŠŠå¯¹åº”çš„htmlæ–‡ä»¶å¤åˆ¶åˆ°äº†/var/www/htmlä¸­äº†</em></p>
</li>
<li>
<p>æ ¹æ®ä¸åŒçš„abrç®—æ³•å¯åŠ¨äº†ä¸åŒçš„serverï¼ŒBBçš„è¯æ˜¯ç›´æ¥ç”¨çš„<code>../rl_server/simple_server.py</code>ã€‚<mark>é™¤äº†dashjsä¸­çš„åŸç”Ÿæ”¯æŒçš„ç®—æ³•ï¼Œå…¶ä½™çš„å†³ç­–è¿‡ç¨‹éƒ½å†™åœ¨serverçš„postå“åº”æ–¹æ³•ä¸­</mark> <em>That&rsquo;s right.</em></p>
</li>
<li>
<p>ä¸Šä¸€æ­¥çš„å‘½ä»¤åªç©¿äº†ä¸€ä¸ªtrace fileçš„æ–‡ä»¶åè¿‡æ¥ï¼Œä¸æ˜¯è·¯å¾„ã€‚<mark>é™¤éåˆåœ¨å¤–é¢å¥—äº†ä¸€å±‚æ ¹ç›®å½•ï¼Œå¦åˆ™ä¸å¯èƒ½æ‰¾å¾—åˆ°ï¼Œç‹—ä»£ç å…¨æ˜¯bug</mark> <em>è¯·åŸè°…æˆ‘çš„æ— çŸ¥ï¼Œåœ¨ç¨å¾®äº†è§£mahimahiçš„å‘½ä»¤æ ¼å¼åæˆ‘å°±çŸ¥é“äº†å·²ç»æŠŠtraceä¼ ç»™mahimahiå¹¶ä¸”å¼€å§‹å½¢æˆå¯¹åº”çš„ç½‘ç»œç¯å¢ƒäº†ğŸ˜…</em></p>
</li>
</ol>
<p><code>mm-delay 40 mm-link 12mbps ../cooked_traces/test_fcc_trace_1171_http---www.yahoo.com_0 /usr/bin/python run_video.py 111.199.68.11 BB 320 0 test_fcc_trace_1171_http---www.yahoo.com_0 1</code></p>
<h3 id=34-simple_serverpy>3.4 simple_server.py</h3>
<p>simple_serverå’ŒåŒç›®å½•ä¸‹çš„å…¶ä»–serverï¼ˆmpcï¼Œrlç­‰ï¼‰å¹¶ä¸æ˜¯çœŸæ­£çš„æœåŠ¡ç«¯ï¼Œè€Œæ˜¯æ‰§å®¢æˆ·ç«¯ã€‚çœŸæ­£çš„å®¢æˆ·ç«¯æ˜¯localhostçš„apacheæœåŠ¡å¼€å¯çš„dashjsæä¾›çš„ï¼Œè¿™äº›serverè´Ÿè´£ä¸æ–­å‘dashjså‘å‡ºpostè¯·æ±‚ï¼Œæ’­æ”¾è§†é¢‘ï¼Œåšå†³ç­–ï¼Œå†™logã€‚</p>
<p>é™¤äº†mpcï¼Œrmpcï¼Œpensieveä¹‹å¤–çš„bolaï¼Œbbç­‰abrç®—æ³•ï¼Œéƒ½ç›´æ¥è¿è¡Œåœ¨dashjsä¸Šé¢ï¼Œæ¯æ¬¡å®¢æˆ·ç«¯è¯·æ±‚çš„urlä¸­çš„ç½‘å€åç§°å°±è¯·æ±‚äº†ä¸åŒçš„htmlç•Œé¢ï¼Œé‚£ä¹ˆæ˜¯æ€ä¹ˆåšåˆ°åŒºåˆ†å†…ç½®ç®—æ³•çš„ï¼šhtmlæ–‡ä»¶é‡Œå°±ä¸€ä¸ªå¾ˆç®€å•çš„abr_idçš„ä¸åŒå°±åŒºåˆ†äº†ä¸åŒçš„abrç®—æ³•ï¼Œè¿™ä¸ªè‚¯å®šå’Œå…¶ä»–çš„å‰ç«¯ä»£ç åƒäº¤äº’çš„ï¼Œå¯¹åº”çš„ä»£ç éƒ½ä½¿ç”¨gruntç¼–è¯‘æˆäº†dash.all.min.jsä¸€èµ·æ”¾è¿›äº†æœåŠ¡å™¨ä¸Šï¼ˆlocalhostï¼‰ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¿™äº›ç®—æ³•çš„æ—¶å€™ï¼Œæœ¬åœ°çš„ä»£ç åªç”¨ä¸€ä¸ªsimple_serverï¼Œè´Ÿè´£logæ”¶é›†å°±å¥½äº†ã€‚å…¶ä½™çš„ç®—æ³•ï¼Œåˆ™ä¼šåœ¨postè¯·æ±‚æ–¹æ³•é‡Œé¢å®ç°å…·ä½“çš„å†³ç­–é€»è¾‘ï¼Œå¯¹äºmpcç­‰æ¥è¯´é€‰æ‹©ç ç‡å°±æ˜¯åœ¨è¿™è¾¹ä»£ç é‡Œé¢é€‰æ‹©çš„äº†ã€‚</p>
<p>å› æ­¤å¦‚æœè¦æ·»åŠ lumoså°±å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼š1. ç”¨pythonå®ç°å¦ä¸€ä¸ªlumos_serverï¼›2. å°†lumosæ”¾åˆ°dashjsä¸­ï¼Œå¤„äºå’Œbolaå¹³è¡Œçš„ä½ç½®ä¸Šã€‚ä½†æ³¨æ„è¿™é‡Œæ˜¯å†…ç½®çš„ï¼Œä¹Ÿå°±æ˜¯è¦é‡æ–°å¯¹dash.min.all.jsç”¨grunté‡æ–°ç¼–è¯‘ï¼Œå¹¶ä¸”ä¹Ÿå¾—é™„ä¸Šä¸€ä»½å¯¹åº”çš„myindex_lumos.htmlæ‰è¡Œ</p>
<p>è¿˜æœ‰ä¸€ä¸ªæˆ‘ä¸æ˜ç™½çš„ç‚¹æ˜¯è¿™ä¸ªpostå’Œgetçš„æ–¹æ³•ï¼Œä»–æ•´ä¸ªæœé›†logå’Œåšå†³ç­–ä¸ºä»€ä¹ˆæ˜¯æ”¾åœ¨posté‡Œé¢çš„ï¼Œæ¨¡æ‹Ÿå®¢æˆ·ç«¯ä¸æ–­è¯·æ±‚çš„å…·ä½“ä»£ç æˆ‘å¹¶æ²¡æœ‰è¯»å¾ˆæ‡‚</p>
<h2 id=4-run_expè·‘ä¸å‡ºæ¥é‡åˆ°çš„é—®é¢˜>4 run_expè·‘ä¸å‡ºæ¥ï¼Œé‡åˆ°çš„é—®é¢˜</h2>
<h3 id=41-xvfb>4.1 xvfb</h3>
<p>error1ï¼šstart error &lt;EasyProcess cmd_param=[&lsquo;Xvfb&rsquo;, &lsquo;-help&rsquo;] cmd=[&lsquo;Xvfb&rsquo;, &lsquo;-help&rsquo;] oserror=[Errno 2] No such file or directory return_code=None stdout=&ldquo;None&rdquo; stderr=&ldquo;None&rdquo; timeout_happened=False></p>
<p>æœäº†ä¸€ä¸‹ï¼Œè¦å®‰è£…xvfb</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=n>sudo</span> <span class=n>apt</span><span class=o>-</span><span class=n>get</span> <span class=n>install</span> <span class=n>xvfb</span>
</code></pre></td></tr></table>
</div>
</div><h3 id=42-mahimahiå†…éƒ¨æ˜¯å¦å¯é€šé€šäº†å°±æœ‰ç”¨äº†å—è¿™è¾¹é€šäº†ä¹Ÿæ²¡ç”¨>4.2 mahimahiå†…éƒ¨æ˜¯å¦å¯é€šï¼ˆï¼Ÿé€šäº†å°±æœ‰ç”¨äº†å—ï¼Œè¿™è¾¹é€šäº†ä¹Ÿæ²¡ç”¨</h3>
<p>ç„¶åéªŒè¯ä¸€ä¸‹mahimahiçš„pingå’Œcurlã€‚æŸ¥é˜…æ‰‹å†Œï¼ˆman mahimahiï¼‰é‡Œé¢æœ‰æ ¼å¼</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>neho@neho-VirtualBox:~$ mm-delay <span class=m>50</span> mm-loss uplink 0.2 sh -c <span class=s1>&#39;ping -c 10 -n $MAHIMAHI_BASE&#39;</span>
PING 100.64.0.3 <span class=o>(</span>100.64.0.3<span class=o>)</span> 56<span class=o>(</span>84<span class=o>)</span> bytes of data.
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>101</span> ms
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>2</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>107</span> ms
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>3</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>100</span> ms
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>4</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>100</span> ms
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>5</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>111</span> ms
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>6</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>102</span> ms
<span class=m>64</span> bytes from 100.64.0.3: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>7</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>63</span> <span class=nv>time</span><span class=o>=</span><span class=m>100</span> ms
</code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸€æ­¥æ˜¯ä¿è¯mahimahiæœ¬èº«ç½‘ç»œè¿æ¥æ²¡æœ‰é—®é¢˜ï¼Œæˆ‘çœ‹åˆ°æœ‰issueé‡Œæœ‰äººæåˆ°è¿™ä¸ª</p>
<h3 id=43-mahimahiä¸‹localhostæ‹’ç»è®¿é—®è®¿é—®ç™¾åº¦éƒ½ä¸è¡Œ>4.3 mahimahiä¸‹localhostæ‹’ç»è®¿é—®ï¼Œè®¿é—®ç™¾åº¦éƒ½ä¸è¡ŒğŸ¤¯</h3>
<p>error2ï¼šæ€»æ˜¯æœ‰ä¸ªtimeoutçš„æŠ¥é”™ï¼Œæ€»æ˜¯æ‰§è¡Œåˆ°get(url)è¿™é‡Œå°±æ— æ³•ç»§ç»­ï¼Œå³ä¾¿æ˜¯å°†urlæ¢æˆç™¾åº¦ä¹Ÿä¸è¡Œã€‚ä½†æ˜¯<mark>å•ç‹¬</mark>æ‰§è¡Œåé¢çš„åŠå¥python run_video.pyåˆæ˜¯å¯ä»¥çš„ã€‚ã€‚ã€‚</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302181454149.png data-srcset="https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302181454149.png, https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302181454149.png 1.5x, https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302181454149.png 2x" data-sizes=auto alt=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302181454149.png title=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302181454149.png></p>
<p>å•ç‹¬æ‰§è¡Œä¸€æ¡è¯­å¥ï¼Œå¹¶ä¸”æŠŠipåœ°å€æ”¹ä¸ºlocalhostï¼ˆæœ¬åœ°æ˜¯éšæ—¶éƒ½å¼€å¯é‚£ä¸ªapacheæœåŠ¡çš„ï¼Œå¯ä»¥ç›´æ¥è®¿é—®</p>
<p><img class=lazyload src=/svg/loading.min.svg data-src=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191404994.png data-srcset="https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191404994.png, https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191404994.png 1.5x, https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191404994.png 2x" data-sizes=auto alt=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191404994.png title=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191404994.png></p>
<p>å†æ¬¡è·‘ä¸Šä¸Šå¼ å›¾ï¼Œå°±ä¼šå‡ºç°æ‹’ç»è®¿é—®çš„é”™è¯¯ï¼šunknown error: net::ERR_CONNECTION_REFUSEDï¼Œåœ¨ä»“åº“çš„issueä¸­ä¹Ÿæœ‰åŒæ ·çš„<a href=https://github.com/hongzimao/pensieve/issues/3#issuecomment-815856479 target=_blank rel="noopener noreffer">é—®é¢˜</a>ï¼Œä½œè€…çš„è§£é‡Šæ˜¯ï¼š</p>
<blockquote>
<p>The communication between inside and outside mahimahi shell is emulated. So you need to run the web server and chrome/selenium across shell.</p>
</blockquote>
<p>æˆ‘è®¤è¯†ï¼Œä½†æˆ‘ä¸æ‡‚ã€‚æ¢³ç†ä¸€ä¸‹ç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼š</p>
<ol>
<li>
<p>è¿™ä¸ªerror_connÂ æ‹’ç»æœåŠ¡</p>
</li>
<li>
<p>ä¸è‡ªåŠ¨æ’­æ”¾ï¼ˆåªæœ‰ä¸€å°æ®µbufferè¢«ç¼“å†²ï¼›logæ–‡ä»¶åªæœ‰14è¡Œï¼‰</p>
</li>
</ol>
<p>å¯¹äºé—®é¢˜1ï¼Œæˆ‘æ‰€åšå‡ºçš„æ— ç”¨å°è¯•æœ‰ï¼š</p>
<ol>
<li>
<p>ç›´æ¥ä»å¤–é¢ç›´æ¥è·‘ä¸€ä¸ªrun_all_tracesæˆ–è®¸èƒ½è¡Œï¼Œäº‹å®è¯æ˜è¿˜æ˜¯ä¸è¡Œï¼Œmahimahiä¸€éš”å¼€å°±æ‹’ç»è®¿é—®äº†</p>
</li>
<li>
<p>æ€€ç–‘chromeå’Œå…¶driverç‰ˆæœ¬å¤ªé«˜æ‰€ä»¥æ¢æˆäº†2020å¹´å·¦å³çš„75.0.3770.8ï¼Œç»“æœä»ç„¶æ˜¯æ‹’ç»è®¿é—®</p>
</li>
<li>
<p>ä¿®æ”¹chromeçš„ä»€ä¹ˆ.desktopæ–‡ä»¶ï¼Œåœ¨exceè¯­å¥åæ·»åŠ &ndash;no-proxy-serverä¹‹ç±»çš„flagï¼Œæ˜¯æƒ³ç¦ç”¨æ‰€æœ‰ä»£ç†æœåŠ¡å™¨ï¼Œä½†ä¹Ÿæ²¡ç”¨
4- å°è¯•å……åˆ†ç†è§£<strong>run web server and chrome across shell</strong>çš„å«ä¹‰ï¼Œæœªæœ</p>
</li>
</ol>
<p>å¯¹äºé—®é¢˜2ï¼Œå·²è§£å†³ï¼Œè§4.4</p>
<h3 id=44-è§†é¢‘ä¸è‡ªåŠ¨æ’­æ”¾>4.4 è§†é¢‘ä¸è‡ªåŠ¨æ’­æ”¾</h3>
<p>é€šè¿‡æŸ¥é˜…<a href=https://github.com/hongzimao/pensieve/issues/63 target=_blank rel="noopener noreffer">å¤šåˆ™issue</a>ï¼Œè§£å†³æ–¹æ³•æ˜¯åœ¨run_video.pyå¯¹chromeçš„è®¾ç½®å¤„å¢æ·»ä¸€å¥ï¼š</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=n>options</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;--autoplay-policy=no-user-gesture-required&#39;</span><span class=p>)</span>
</code></pre></td></tr></table>
</div>
</div><p><img class=lazyload src=/svg/loading.min.svg data-src=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191317484.png data-srcset="https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191317484.png, https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191317484.png 1.5x, https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191317484.png 2x" data-sizes=auto alt=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191317484.png title=https://nehopicbed.oss-cn-beijing.aliyuncs.com/img/202302191317484.png></p>
<p>è¿™é‡Œç›®å‰è¿˜æ˜¯æ²¡æœ‰å¼€å¯mahimhiï¼Œå¹¶ä¸”ipç”¨çš„æ˜¯locahostã€‚è¿™ä¹ˆè·‘å¯ä»¥ç”Ÿæˆæƒ³è¦çš„logï¼Œä½†è¿˜ä¸å¤ŸğŸ˜ˆ</p>
<h3 id=45-mahimahiä¸‹çš„err_connection_refused>4.5 mahimahiä¸‹çš„ERR_CONNECTION_REFUSED</h3>
<p>4.4ä¸­çš„<a href=https://github.com/park-project/park/blob/master/park/envs/abr/run_video.py#L63 target=_blank rel="noopener noreffer">æ–°æ·»åŠ çš„è¯­å¥</a>æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„abrç›¸å…³çš„ä»“åº“parkï¼Œè¿™ä¸ªpyä¹Ÿæ˜¯run_video.pyï¼Œæˆ‘ç¿»çœ‹å‰é¢æ³¨æ„åˆ°äº†<a href=https://github.com/park-project/park/blob/master/park/envs/abr/run_video.py#L34 target=_blank rel="noopener noreffer">urlçš„èµ‹å€¼</a>çš„ä¸€å¥è¯</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=c1># generate url  (Akshay: use mahimahi base)</span>
<span class=n>url</span> <span class=o>=</span> <span class=s1>&#39;http://</span><span class=si>{}</span><span class=s1>/&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;MAHIMAHI_BASE&#34;</span><span class=p>])</span> <span class=o>+</span> <span class=s1>&#39;myindex_RL.html&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œç”¨çš„æ˜¯<code>MAHIMAHI_BASE</code>ï¼Œmanæ‰‹å†Œé‡Œé¢ä¹Ÿç”¨è¿™ä¸ªä»£è¡¨äº†æŸä¸ªipæ¥pingè¿‡ï¼Œå¯æ˜¯æˆ‘ä¹ŸéªŒè¯è¿‡ï¼Œæ‹¿è¿™ä¸ªä»£è¡¨å‡ºæ¥çš„ipå»è®¿é—®htmlä¹Ÿæ˜¯æ‹’ç»æœåŠ¡ã€‚ã€‚ã€‚</p>
<p>ç¿»issueçœ‹åˆ°äº†è¿™ä¸ªï¼š<a href=https://github.com/ravinet/mahimahi/issues/113 target=_blank rel="noopener noreffer">When i use mahimahi CLI mm-delayï¼Œmy local server stop to work,how to solve the problem Â· Issue #113 Â· ravinet/mahimahi Â· GitHub</a></p>
<p>è¿™ä¸ªä¼ åª’å¤§å­¦çš„åŒå­¦å°±æ˜¯pensieveè¿‡æ¥çš„ï¼Œåœ¨pensieveé‚£è¾¹æ²¡å¾—åˆ°è§£å†³å°±åœ¨è¿™é‡Œæ¥é—®äº†ï¼Œä»–çš„é—®é¢˜è·Ÿæˆ‘çš„å¯ä»¥è¯´æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œä½œè€…çš„ç­”å¤æ˜¯ï¼š</p>
<blockquote>
<p>Â Â Â `localhost' refers to the IP address of the local interface &ndash; and from inside a container, local really means &ldquo;local&rdquo; (still inside the container). This is not where your webserver is running.</p>
<p>You can use the $MAHIMAHI_BASE environment variable to refer to the local interface of the &ldquo;main&rdquo; container on your computer, outside the mahimahi container. This is probably what the webserver is listening to.</p>
</blockquote>
<p>è¯‘ï¼šlocalhostæŒ‡çš„æ˜¯æœ¬åœ°â€˜ç•Œé¢â€™çš„ipåœ°å€ï¼Œé‚£ä¹ˆå¦‚æœæ˜¯åœ¨ä¸€ä¸ªå†…éƒ¨çš„å®¹å™¨ä¸­ï¼Œlocalçš„æ„æ€å°±æ˜¯å®¹å™¨çš„local ipï¼Œè¿™ä¸ªipåœ°å€æ˜¯åœ¨å®¹å™¨é‡Œé¢çš„ï¼Œä½†webserverä¸æ˜¯åœ¨è¿™ä¸ªå®¹å™¨ä¸­ï¼ˆwebserveråœ¨æœºå™¨ä¸Šï¼Œå®ƒå‰é¢æ²¡æœ‰åŠ ä¸Šmahimahiï¼‰è¿è¡Œçš„ã€‚</p>
<p>ä½ å¯ä»¥ç”¨$MAHIMAHI_BASEè¿™ä¸ªç¯å¢ƒå˜é‡å»è¡¨ç¤ºè¿™ä¸ªæœ€ä¸»è¦çš„containerçš„local ç•Œé¢çš„ipï¼Œè¿™ä¸ªmain containerä¹Ÿå°±æ˜¯æœºå™¨äº†ï¼Œæ˜¯åœ¨mahimahiä¹‹å¤–çš„é‚£ä¸ªcontainerï¼ˆä¸»æœºä¹Ÿæ˜¯ä¸€ä¸ªcontainerï¼‰ï¼Œè¿™å¯èƒ½æ˜¯webserverç›‘å¬çš„åœ°å€ï¼ˆå¯¹äºmahimahiæ¥è¯´ï¼‰</p>
<p>æ‰€ä»¥æˆ‘ä¹‹å‰å°è¯•åœ¨chromeä¸­è¾“å…¥è¿™ä¸ªipå•¥ååº”éƒ½æ²¡æœ‰ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºæˆ‘å½“æ—¶æ˜¯åœ¨è¿™ä¸ªmain containerä¸‹é¢ç”¨è¿™ä¸ªipå…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè¿™ä¸ªipæ˜¯mahimahiå†…éƒ¨è®¿é—®å¤–éƒ¨è¿™ä¸ªmainç”¨çš„åœ°å€ï¼Ÿï¼Ÿ</p>
<p>okï¼Œè¿™å¥è¯æ¢ä¸Šäº†ä¹‹åï¼Œä»æ‹’ç»æœåŠ¡å˜ä¸ºäº†timeoutäº†ã€‚ã€‚ã€‚</p>
<hr>
<p>ç°åœ¨å¯ä»¥åŒºåˆ†ï¼šæ‹’ç»æœåŠ¡å¯¹åº”çš„ipï¼Œæ˜¯mahimahiä¸­èƒ½pingçš„é€šçš„ï¼Œä½†æ˜¯ç«¯å£ä¸ä¸€å®šå¼€æ”¾ï¼Œä½†æ˜¯localhostè¿™äº›ä¹Ÿéƒ½æ˜¯è¿™ä¸ªå®¹å™¨å†…éƒ¨çš„localhostï¼Œå¹¶ä¸æ˜¯webserverçœŸæ­£çš„åœ°æ–¹ï¼Œæ‰€ä»¥è¿™ä¸ªæ‹’ç»æœåŠ¡å°±æ˜¯çº¯çº¯é”™çš„ï¼›ç„¶è€Œtimeoutï¼Œå°±æ˜¯pingä¹Ÿpingä¸åŒçš„ï¼Œæ˜¯é€»è¾‘ä¸Šå®¹å™¨å†…å¯ä»¥è®¿é—®åˆ°å¤–éƒ¨webserverçš„åœ°å€ï¼Œæ— å¥ˆå®ƒæ— æ³•pingé€šã€‚ã€‚ã€‚ã€‚è‹¦æ¼</p>
<hr>
<p>è¿™æ˜¯æˆ‘ä»Šå¤©ä¸ŠåˆæƒŠäººçš„å‘ç°ï¼šä¸Šä¸‹è¡Œçš„traceéƒ½æ¢æˆé‚£ä¸ªç®€å•çš„12mbpsä¹‹åï¼Œå®ƒæ˜¯èƒ½pingå¾—é€šæˆ‘main containerçš„ipçš„ï¼äºæ˜¯æˆ‘åˆæ‰§è¡Œäº†wgetå»è·å–é‚£ä¸ªhtmlç•Œé¢ï¼Œguess whatï¼Œèƒ½ä¸‹è½½å¾—ä¸‹æ¥ï¼è¿™è¯´æ˜å•¥ï¼Œè¯´æ˜æ˜¯é‚£ä¸ªä¸‹è¡Œçš„trace fileæœ‰é—®é¢˜ï¼Œæ›´æ¢trace fileï¼</p>
<hr>
<p>æ›´æ¢è¿‡trace fileä¹‹åï¼Œé…åˆrun_video.pyä¸­çš„urlä¸­ç›´æ¥ä½¿ç”¨$MAHIMAHI_BASEï¼Œæ•´ä¸ªå°±å¯ä»¥ç›´æ¥è·‘é€šäº†ã€‚</p>
<p>btwï¼Œmahimahiæ ¼å¼å†…å®¹æ„æ€æ˜¯ï¼Œæ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œæ¯ä¸€ä¸ªæ—¶é—´æˆ³å°±å‘ä¸€ä¸ªå¤§å°ä¸º12Mbçš„æ•°æ®åŒ…ï¼Œå› æ­¤ä¸€ä¸ªå¸¦å®½ä¸º12Mbpsçš„traceçš„å†…å®¹å°±æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼›å¸¦å®½ä¸º48Mbpså°±æ˜¯1ï¼Œ1ï¼Œ1ï¼Œ1ï¼Œ2ï¼Œ2ï¼Œ2ï¼Œ2&mldr;</p>
<h2 id=5-è¿è¡Œ>5 è¿è¡Œ</h2>
<p>å¼€çš„2Gå†…å­˜çš„è™šæ‹Ÿæœºä¸€æ¬¡æ€§åŒæ—¶è·‘å®Œæ‰€æœ‰çš„å®éªŒæ˜¯ä¸å¯èƒ½çš„ã€‚ã€‚ã€‚è·‘ä¸€æ™šä¸Šä¸€ä¸ªå®Œæ•´çš„logéƒ½å‡ºä¸æ¥ï¼›è€—æ—¶é•¿ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´æ­»æœºï¼Œå¯ä»¥åƒä½œè€…å›¢é˜Ÿé‚£æ ·åˆ†å‡ ä¸ªæœºå™¨æ¥è·‘ã€‚è¿™ä¸ªè™šæ‹Ÿæœºå°±å¼€ä¸€ä¸ªçº¿ç¨‹æ¥è·‘ï¼Œæ¯æ¬¡è·‘ä¸€ä¸ªç®—æ³•å³å¯ã€‚</p>
<h2 id=6-ç»“æœ>6 ç»“æœ</h2>
</div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>æ›´æ–°äº 2023-02-10</span>
</div>
<div class=post-info-license><span><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div>
</div>
<div class=post-info-line>
<div class=post-info-md><span>
<a class=link-to-markdown href=/pensieve%E5%A4%8D%E7%8E%B0/index.md target=_blank>é˜…è¯»åŸå§‹æ–‡æ¡£</a>
</span></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/ data-title=Pensieveå¤ç° data-hashtags=é…ç¯å¢ƒ,è®ºæ–‡å¤ç°><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/ data-hashtag=é…ç¯å¢ƒ><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Hacker News" data-sharer=hackernews data-url=https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/ data-title=Pensieveå¤ç°><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Line" data-sharer=line data-url=https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/ data-title=Pensieveå¤ç°><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=https://neho.ink/pensieve%E5%A4%8D%E7%8E%B0/ data-title=Pensieveå¤ç°><i class="fab fa-weibo fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E9%85%8D%E7%8E%AF%E5%A2%83/>é…ç¯å¢ƒ</a>,&nbsp;<a href=/tags/%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0/>è®ºæ–‡å¤ç°</a></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span>
</section>
</div>
<div class=post-nav><a href=/runsigcomm21-5g/ class=prev rel=prev title=è·‘SIGCOMM21-5Gä»¿çœŸ><i class="fas fa-angle-left fa-fw"></i>è·‘SIGCOMM21-5Gä»¿çœŸ</a></div>
</div>
<div id=comments><div id=valine class=comment></div><noscript>
Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/>Valine</a>.
</noscript></div></article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.88.1">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=neho.ink target=_blank>n13eho</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨>
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º>
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=/lib/valine/valine.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:15},comment:{valine:{appId:"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI",appKey:"WBmoGyJtbqUswvfLh6L8iEBr",avatar:"mp",el:"#valine",emojiCDN:"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/",emojiMaps:{100:"1f4af.png",alien:"1f47d.png",anger:"1f4a2.png",angry:"1f620.png",anguished:"1f627.png",astonished:"1f632.png",black_heart:"1f5a4.png",blue_heart:"1f499.png",blush:"1f60a.png",bomb:"1f4a3.png",boom:"1f4a5.png",broken_heart:"1f494.png",brown_heart:"1f90e.png",clown_face:"1f921.png",cold_face:"1f976.png",cold_sweat:"1f630.png",confounded:"1f616.png",confused:"1f615.png",cry:"1f622.png",crying_cat_face:"1f63f.png",cupid:"1f498.png",dash:"1f4a8.png",disappointed:"1f61e.png",disappointed_relieved:"1f625.png",dizzy:"1f4ab.png",dizzy_face:"1f635.png",drooling_face:"1f924.png",exploding_head:"1f92f.png",expressionless:"1f611.png",face_vomiting:"1f92e.png",face_with_cowboy_hat:"1f920.png",face_with_hand_over_mouth:"1f92d.png",face_with_head_bandage:"1f915.png",face_with_monocle:"1f9d0.png",face_with_raised_eyebrow:"1f928.png",face_with_rolling_eyes:"1f644.png",face_with_symbols_on_mouth:"1f92c.png",face_with_thermometer:"1f912.png",fearful:"1f628.png",flushed:"1f633.png",frowning:"1f626.png",ghost:"1f47b.png",gift_heart:"1f49d.png",green_heart:"1f49a.png",grimacing:"1f62c.png",grin:"1f601.png",grinning:"1f600.png",hankey:"1f4a9.png",hear_no_evil:"1f649.png",heart:"2764-fe0f.png",heart_decoration:"1f49f.png",heart_eyes:"1f60d.png",heart_eyes_cat:"1f63b.png",heartbeat:"1f493.png",heartpulse:"1f497.png",heavy_heart_exclamation_mark_ornament:"2763-fe0f.png",hole:"1f573-fe0f.png",hot_face:"1f975.png",hugging_face:"1f917.png",hushed:"1f62f.png",imp:"1f47f.png",innocent:"1f607.png",japanese_goblin:"1f47a.png",japanese_ogre:"1f479.png",joy:"1f602.png",joy_cat:"1f639.png",kiss:"1f48b.png",kissing:"1f617.png",kissing_cat:"1f63d.png",kissing_closed_eyes:"1f61a.png",kissing_heart:"1f618.png",kissing_smiling_eyes:"1f619.png",laughing:"1f606.png",left_speech_bubble:"1f5e8-fe0f.png",love_letter:"1f48c.png",lying_face:"1f925.png",mask:"1f637.png",money_mouth_face:"1f911.png",nauseated_face:"1f922.png",nerd_face:"1f913.png",neutral_face:"1f610.png",no_mouth:"1f636.png",open_mouth:"1f62e.png",orange_heart:"1f9e1.png",partying_face:"1f973.png",pensive:"1f614.png",persevere:"1f623.png",pleading_face:"1f97a.png",pouting_cat:"1f63e.png",purple_heart:"1f49c.png",rage:"1f621.png",relaxed:"263a-fe0f.png",relieved:"1f60c.png",revolving_hearts:"1f49e.png",right_anger_bubble:"1f5ef-fe0f.png",robot_face:"1f916.png",rolling_on_the_floor_laughing:"1f923.png",scream:"1f631.png",scream_cat:"1f640.png",see_no_evil:"1f648.png",shushing_face:"1f92b.png",skull:"1f480.png",skull_and_crossbones:"2620-fe0f.png",sleeping:"1f634.png",sleepy:"1f62a.png",slightly_frowning_face:"1f641.png",slightly_smiling_face:"1f642.png",smile:"1f604.png",smile_cat:"1f638.png",smiley:"1f603.png",smiley_cat:"1f63a.png",smiling_face_with_3_hearts:"1f970.png",smiling_imp:"1f608.png",smirk:"1f60f.png",smirk_cat:"1f63c.png",sneezing_face:"1f927.png",sob:"1f62d.png",space_invader:"1f47e.png",sparkling_heart:"1f496.png",speak_no_evil:"1f64a.png",speech_balloon:"1f4ac.png","star-struck":"1f929.png",stuck_out_tongue:"1f61b.png",stuck_out_tongue_closed_eyes:"1f61d.png",stuck_out_tongue_winking_eye:"1f61c.png",sunglasses:"1f60e.png",sweat:"1f613.png",sweat_drops:"1f4a6.png",sweat_smile:"1f605.png",thinking_face:"1f914.png",thought_balloon:"1f4ad.png",tired_face:"1f62b.png",triumph:"1f624.png",two_hearts:"1f495.png",unamused:"1f612.png",upside_down_face:"1f643.png",weary:"1f629.png",white_frowning_face:"2639-fe0f.png",white_heart:"1f90d.png",wink:"1f609.png",woozy_face:"1f974.png",worried:"1f61f.png",yawning_face:"1f971.png",yellow_heart:"1f49b.png",yum:"1f60b.png",zany_face:"1f92a.png",zipper_mouth_face:"1f910.png",zzz:"1f4a4.png"},enableQQ:!1,highlight:!0,lang:"zh-cn",pageSize:10,placeholder:"ä½ çš„è¯„è®º ...",recordIP:!0,serverURLs:"https://leancloud.hugoloveit.com",visitor:!0}},search:{algoliaAppID:"PASDMWALPK",algoliaIndex:"index.zh-cn",algoliaSearchKey:"b42948e51daaa93df92381c8e2ac0f93",highlightTag:"em",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body>
</html>